import{e as $,h as d,x as E,y as W,k as F,z as N,o as V,l as j,a as q}from"./app.a9730126.js";const A={class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none",style:{"z-index":"-1"}},J=$({__name:"Plum",setup(D){const R=Math.PI,g=Math.PI/2,x=Math.PI/12;let w=0;const v=d(null),{random:i}=Math,n=E(W()),k=d(()=>{}),_=d(4),B=d(6),P=d(!1);function M(s,t=400,c=400,r){const e=s.getContext("2d"),a=window.devicePixelRatio||1,l=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,o=r||a/l;return s.style.width=`${t}px`,s.style.height=`${c}px`,s.width=o*t,s.height=o*c,e.scale(o,o),{ctx:e,dpi:o}}function b(s=0,t=0,c=0,r=0){const e=c*Math.cos(r),a=c*Math.sin(r);return[s+e,t+a]}return F(async()=>{const s=v.value,{ctx:t}=M(s,n.width,n.height),{width:c,height:r}=s;let e=[],a=[],l=0;const o=(f,S,m)=>{const C=i()*B.value,[h,u]=b(f,S,C,m);t.beginPath(),t.moveTo(f,S),t.lineTo(h,u),t.strokeStyle=`hsl(${w%360}, 50%, 50%)`,w+=.1,t.stroke();const I=m+i()*x,T=m-i()*x;h<-100||h>n.width+100||u<-100||u>n.height+100||((l<=_.value||i()>.5)&&e.push(()=>o(h,u,I)),(l<=_.value||i()>.5)&&e.push(()=>o(h,u,T)))};let y=performance.now();const z=1e3/40;let p;p=N(()=>{performance.now()-y<z||(l+=1,a=e,e=[],y=performance.now(),a.length||(p.pause(),P.value=!0),a.forEach(f=>f()))},{immediate:!1}),k.value=()=>{p.pause(),l=0,t.clearRect(0,0,c,r),t.lineWidth=1,t.strokeStyle="hsl(0, 50%, 50&)",a=[],e=[()=>o(i()*n.width,0,g),()=>o(i()*n.width,n.height,-g),()=>o(0,i()*n.height,0),()=>o(n.width,i()*n.height,R)],n.width<500&&(e=e.slice(0,2)),p.resume(),P.value=!1},k.value()}),(s,t)=>(V(),j("div",A,[q("canvas",{ref_key:"el",ref:v,width:"400",height:"400"},null,512)]))}});export{J as _};
